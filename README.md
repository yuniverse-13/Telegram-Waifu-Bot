# Waifu Telegram Bot (–¢–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç "–í–∞–π—Ñ—É")

–¢–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç –Ω–∞ Go –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞—Ö (–≤–∞–π—Ñ—É) –∏–∑ –≤–∞—à–µ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö PostgreSQL.

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

*   –ü–æ–∏—Å–∫ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π –ø–æ ID.
*   –ü–æ–∏—Å–∫ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π –ø–æ –∏–º–µ–Ω–∏ –∏–ª–∏ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–º—É –∏–º–µ–Ω–∏ (—Ä–µ–≥–∏—Å—Ç—Ä–æ–Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–π –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∏–º–µ–Ω–∏).
*   –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–ª—É—á–∞–π–Ω–æ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞.
*   –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ: –∏–º—è, ID, —Ç–∞–π—Ç–ª, –æ–ø–∏—Å–∞–Ω–∏–µ, —Ä–µ–π—Ç–∏–Ω–≥ –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ.
*   –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ PostgreSQL –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö.
*   –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ GORM –∫–∞–∫ ORM –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö.
*   –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏—è–º–∏ —Å—Ö–µ–º—ã –ë–î —Å –ø–æ–º–æ—â—å—é `golang-migrate`.
*   –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–ø—É—Å–∫–∞ –≤ Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ —Å –ø–æ–º–æ—â—å—é Docker Compose.
*   –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π —Å –ø–æ–º–æ—â—å—é MarkdownV2 –¥–ª—è –ª—É—á—à–µ–π —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏.

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

*   Go (–≤–µ—Ä—Å–∏—è 1.24 –∏–ª–∏ –≤—ã—à–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
*   PostgreSQL (–≤–µ—Ä—Å–∏—è 17 –∏–ª–∏ –≤—ã—à–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
*   Docker –∏ Docker Compose (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è)
*   `golang-migrate` CLI (–µ—Å–ª–∏ –≤—ã –ø–ª–∞–Ω–∏—Ä—É–µ—Ç–µ —É–ø—Ä–∞–≤–ª—è—Ç—å –º–∏–≥—Ä–∞—Ü–∏—è–º–∏ –≤—Ä—É—á–Ω—É—é –≤–Ω–µ Docker)

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –ó–∞–ø—É—Å–∫

### –° –ø–æ–º–æ—â—å—é Docker Compose (–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Å–ø–æ—Å–æ–±)

–≠—Ç–æ —Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± –∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞ –≤–º–µ—Å—Ç–µ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö.

1.  **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
    ```bash
    git clone https://github.com/YourUsername/telegram-waifu-bot.git
    cd telegram-waifu-bot
    ```
    *(–ó–∞–º–µ–Ω–∏ `YourUsername/telegram-waifu-bot` –Ω–∞ URL —Ç–≤–æ–µ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è)*

2.  **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
    –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞, —Å–∫–æ–ø–∏—Ä–æ–≤–∞–≤ `.env.example` (–µ—Å–ª–∏ –æ–Ω —É –≤–∞—Å –µ—Å—Ç—å) –∏–ª–∏ —Å–æ–∑–¥–∞–≤ –Ω–æ–≤—ã–π:
    ```env
    # –¢–æ–∫–µ–Ω –≤–∞—à–µ–≥–æ Telegram –±–æ—Ç–∞
    TELEGRAM_BOT_TOKEN=–í–ê–®_–¢–ï–õ–ï–ì–†–ê–ú_–ë–û–¢_–¢–û–ö–ï–ù

    # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL –∏–∑ docker-compose
    # –≠—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å–µ—Ä–≤–∏—Å–æ–º postgres –≤ docker-compose.yml
    POSTGRES_USER=waifu_bot_user
    POSTGRES_PASSWORD=supersecretpassword
    POSTGRES_DB=waifu_bot_db
    DB_PORT_HOST=5432 # –ü–æ—Ä—Ç, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –ø—Ä–æ–±—Ä–æ—à–µ–Ω –Ω–∞ —Ö–æ—Å—Ç-–º–∞—à–∏–Ω—É –¥–ª—è PostgreSQL

    # DATABASE_URL –¥–ª—è —Å–∞–º–æ–≥–æ –±–æ—Ç–∞ (–æ–Ω –±—É–¥–µ—Ç –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ –ë–î –≤–Ω—É—Ç—Ä–∏ Docker-—Å–µ—Ç–∏)
    # –ò–º—è —Ö–æ—Å—Ç–∞ 'postgres_db' —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∏–º–µ–Ω–∏ —Å–µ—Ä–≤–∏—Å–∞ –ë–î –≤ docker-compose.yml
    DATABASE_URL=postgres://waifu_bot_user:supersecretpassword@postgres_db:5432/waifu_bot_db?sslmode=disable

    # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è —Å–µ—Ä–≤–∏—Å–∞ –±–æ—Ç–∞ –≤ docker-compose.yml (–¥—É–±–ª–∏—Ä—É—é—Ç –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –≤—ã—à–µ)
    DB_USER=${POSTGRES_USER}
    DB_PASSWORD=${POSTGRES_PASSWORD}
    DB_NAME=${POSTGRES_DB}
    DB_HOST=postgres_db # –ò–º—è —Å–µ—Ä–≤–∏—Å–∞ –ë–î –≤ Docker-—Å–µ—Ç–∏
    DB_PORT_CONTAINER=5432 # –ü–æ—Ä—Ç –ë–î –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
    ```
    **–í–∞–∂–Ω–æ:** –ó–∞–º–µ–Ω–∏—Ç–µ `–í–ê–®_–¢–ï–õ–ï–ì–†–ê–ú_–ë–û–¢_–¢–û–ö–ï–ù` –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π —Ç–æ–∫–µ–Ω –≤–∞—à–µ–≥–æ –±–æ—Ç–∞, –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –æ—Ç [@BotFather](https://t.me/BotFather). –ü–∞—Ä–æ–ª—å –∏ –¥—Ä—É–≥–∏–µ –¥–∞–Ω–Ω—ã–µ —Ç–∞–∫–∂–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Å–º–µ–Ω–∏—Ç—å –Ω–∞ –±–æ–ª–µ–µ –Ω–∞–¥–µ–∂–Ω—ã–µ.

3.  **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å—ã:**
    ```bash
    docker-compose up --build
    ```
    –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –±—É–¥—É—Ç –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (—Å–æ–≥–ª–∞—Å–Ω–æ `entrypoint.sh`).

4.  **–û—Å—Ç–∞–Ω–æ–≤–∫–∞:**
    ```bash
    docker-compose down
    ```

### –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ (–±–µ–∑ Docker)

1.  **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:** (—Å–º. –≤—ã—à–µ)

2.  **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ PostgreSQL:**
    –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å –∑–∞–ø—É—â–µ–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω —Å–µ—Ä–≤–µ—Ä PostgreSQL. –°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –±–æ—Ç–∞.

3.  **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
    –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:
    ```env
    TELEGRAM_BOT_TOKEN=–í–ê–®_–¢–ï–õ–ï–ìRAM_–ë–û–¢_–¢–û–ö–ï–ù
    DATABASE_URL=postgres://–í–ê–®_–ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–¨_–ë–î:–í–ê–®_–ü–ê–†–û–õ–¨_–ë–î@localhost:5432/–í–ê–®–ê_–ë–ê–ó–ê_–î–ê–ù–ù–´–•?sslmode=disable
    ```
    –ó–∞–º–µ–Ω–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è –Ω–∞ –≤–∞—à–∏.

4.  **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
    ```bash
    go mod tidy
    ```

5.  **–ü—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:**
    –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω `golang-migrate`. [–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ](https://github.com/golang-migrate/migrate/tree/master/cmd/migrate).
    ```bash
    migrate -path ./migrations -database "${DATABASE_URL}" up
    ```
    (–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `DATABASE_URL` –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ –≤–∞—à–µ–º —à–µ–ª–ª–µ –∏–ª–∏ —É–∫–∞–∂–∏—Ç–µ URL –Ω–∞–ø—Ä—è–º—É—é)

6.  **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:**
    ```bash
    go run cmd/bot/main.go
    ```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–ë–æ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è:

*   `TELEGRAM_BOT_TOKEN`: **–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ.** –¢–æ–∫–µ–Ω –≤–∞—à–µ–≥–æ Telegram –±–æ—Ç–∞.
*   `DATABASE_URL`: **–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ.** –°—Ç—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL.
    *   –§–æ—Ä–º–∞—Ç: `postgres://[user]:[password]@[host]:[port]/[dbname]?sslmode=[disable|require|etc.]`
*   (–î–ª—è Docker Compose —Ç–∞–∫–∂–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è `POSTGRES_USER`, `POSTGRES_PASSWORD`, `POSTGRES_DB` –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–µ—Ä–≤–∏—Å–∞ –ë–î).

## ü§ñ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ (–ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞)

*   `/start` - –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ.
*   `/info` - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–æ–º–∞–Ω–¥.
*   `/character <ID –∏–ª–∏ –ò–º—è>` - –ü–æ–∏—Å–∫ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ –ø–æ –µ–≥–æ ID –∏–ª–∏ –∏–º–µ–Ω–∏/–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–º—É –∏–º–µ–Ω–∏.
    *   –ü—Ä–∏–º–µ—Ä: `/character 1`
    *   –ü—Ä–∏–º–µ—Ä: `/character –ú–µ–≥—É–º–∏–Ω`
*   `/randomcharacter` - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ª—É—á–∞–π–Ω–æ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ü—Ä–æ–µ–∫—Ç–∞
.
‚îú‚îÄ‚îÄ .env # –§–∞–π–ª —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–ª–æ–∫–∞–ª—å–Ω—ã–π, –Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—Å—è)
‚îú‚îÄ‚îÄ .env.example # –§–∞–π–ª —Å –ø—Ä–∏–º–µ—Ä–æ–º —Ç–≤–æ–µ–≥–æ —Ñ–∞–π–ª–∞ .env
‚îú‚îÄ‚îÄ .git # –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è Git
‚îú‚îÄ‚îÄ .gitignore # –§–∞–π–ª –¥–ª—è Git, —É–∫–∞–∑—ã–≤–∞—é—â–∏–π –∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º—ã–µ —Ñ–∞–π–ª—ã
‚îú‚îÄ‚îÄ Dockerfile # Dockerfile –¥–ª—è —Å–±–æ—Ä–∫–∏ –æ–±—Ä–∞–∑–∞ –±–æ—Ç–∞
‚îú‚îÄ‚îÄ README.md # –≠—Ç–æ—Ç —Ñ–∞–π–ª
‚îú‚îÄ‚îÄ cmd/
‚îÇ ‚îî‚îÄ‚îÄ bot/
‚îÇ ‚îî‚îÄ‚îÄ main.go # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
‚îú‚îÄ‚îÄ docker-compose.yml # Docker Compose —Ñ–∞–π–ª –¥–ª—è –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏–∏ —Å–µ—Ä–≤–∏—Å–æ–≤ (–±–æ—Ç –∏ –ë–î)
‚îú‚îÄ‚îÄ entrypoint.sh # –°–∫—Ä–∏–ø—Ç —Ç–æ—á–∫–∏ –≤—Ö–æ–¥–∞ –¥–ª—è Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –±–æ—Ç–∞ (–ø—Ä–∏–º–µ–Ω—è–µ—Ç –º–∏–≥—Ä–∞—Ü–∏–∏)
‚îú‚îÄ‚îÄ go.mod # –§–∞–π–ª —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ Go
‚îú‚îÄ‚îÄ go.sum # –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ —Å—É–º–º—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π Go
‚îú‚îÄ‚îÄ internal/
‚îÇ ‚îú‚îÄ‚îÄ bot/
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ bot.go # –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ Telegram –±–æ—Ç–∞, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è API, —Ü–∏–∫–ª –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ handlers/ # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∫–æ–º–∞–Ω–¥ Telegram
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ character_handler.go
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ character_response.go # –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤ –¥–ª—è –∫–æ–º–∞–Ω–¥—ã character
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ random_character_handler.go
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ start_info_handler.go
‚îÇ ‚îî‚îÄ‚îÄ characters/
‚îÇ ‚îî‚îÄ‚îÄ characters.go # –ú–æ–¥–µ–ª—å –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ (GORM) –∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π
‚îî‚îÄ‚îÄ migrations/ # SQL-–º–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (golang-migrate)
‚îú‚îÄ‚îÄ 000001_create_characters_table.down.sql
‚îú‚îÄ‚îÄ 000001_create_characters_table.up.sql
‚îú‚îÄ‚îÄ ... # –û—Å—Ç–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã –º–∏–≥—Ä–∞—Ü–∏–π

## üõ†Ô∏è –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–∞–∑—ã –î–∞–Ω–Ω—ã—Ö

–ú–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `/migrations` –∏ —É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —Å –ø–æ–º–æ—â—å—é `golang-migrate`.

*   **–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏:**
    ```bash
    migrate create -ext sql -dir migrations -seq –∏–º—è_–º–∏–≥—Ä–∞—Ü–∏–∏
    ```
*   **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π (–ø—Ä–∏–º–µ—Ä –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏):**
    ```bash
    migrate -path ./migrations -database "postgres://user:pass@host:port/db?sslmode=disable" up
    ```
*   **–û—Ç–∫–∞—Ç –º–∏–≥—Ä–∞—Ü–∏–π:**
    ```bash
    migrate -path ./migrations -database "postgres://user:pass@host:port/db?sslmode=disable" down 1 # –û—Ç–∫–∞—Ç–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω—é—é
    ```

## ü§ù –í–Ω–µ—Å–µ–Ω–∏–µ –í–∫–ª–∞–¥–∞ (Contributing)

–ë—É–¥—É —Ä–∞–¥ –≤–∞—à–∏–º Pull Request'–∞–º! –ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –∏–¥–µ–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é –∏–ª–∏ –≤—ã –Ω–∞—à–ª–∏ –æ—à–∏–±–∫—É, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–æ–∑–¥–∞–π—Ç–µ Issue –∏–ª–∏ Pull Request.

1.  –°–¥–µ–ª–∞–π—Ç–µ —Ñ–æ—Ä–∫ –ø—Ä–æ–µ–∫—Ç–∞.
2.  –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é –≤–µ—Ç–∫—É (`git checkout -b feature/–Ω–æ–≤–∞—è-—Ñ–∏—á–∞`).
3.  –í–Ω–µ—Å–∏—Ç–µ —Å–≤–æ–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è.
4.  –°–¥–µ–ª–∞–π—Ç–µ –∫–æ–º–º–∏—Ç (`git commit -am '–î–æ–±–∞–≤–ª–µ–Ω–∞ –Ω–æ–≤–∞—è —Ñ–∏—á–∞'`).
5.  –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –≤–∞—à —Ñ–æ—Ä–∫ (`git push origin feature/–Ω–æ–≤–∞—è-—Ñ–∏—á–∞`).
6.  –°–æ–∑–¥–∞–π—Ç–µ Pull Request.