# Waifu Telegram Bot (–¢–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç "–í–∞–π—Ñ—É")

–¢–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç –Ω–∞ Go –¥–ª—è –ø–æ–∏—Å–∫–∞, –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏ **–æ—Ü–µ–Ω–∫–∏** –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π (–≤–∞–π—Ñ—É) –∏–∑ –≤–∞—à–µ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö PostgreSQL.

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

*   –ü–æ–∏—Å–∫ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π –ø–æ ID.
*   –ü–æ–∏—Å–∫ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π –ø–æ –∏–º–µ–Ω–∏ –∏–ª–∏ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–º—É –∏–º–µ–Ω–∏ (—Ä–µ–≥–∏—Å—Ç—Ä–æ–Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–π –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∏–º–µ–Ω–∏).
*   –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–ª—É—á–∞–π–Ω–æ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞.
*   **–°–∏—Å—Ç–µ–º–∞ —Ä–µ–π—Ç–∏–Ω–≥–∞ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π:**
    *   –û—Ü–µ–Ω–∫–∞ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ –∫–æ–º–∞–Ω–¥–æ–π `/rate <ID –∏–ª–∏ –ò–º—è> <–æ—Ü–µ–Ω–∫–∞ 1-10>`.
    *   –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫–∏ (1‚≠ê - 10‚≠ê) –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞.
    *   –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ: –∏–º—è, ID, —Ç–∞–π—Ç–ª, –æ–ø–∏—Å–∞–Ω–∏–µ, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ, **—Å—Ä–µ–¥–Ω–∏–π —Ä–µ–π—Ç–∏–Ω–≥**, **–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥–æ–ª–æ—Å–æ–≤** –∏ **–≤–∞—à–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∞—è –æ—Ü–µ–Ω–∫–∞**.
*   –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ PostgreSQL –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö.
*   –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ GORM –∫–∞–∫ ORM –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö.
*   –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏—è–º–∏ —Å—Ö–µ–º—ã –ë–î —Å –ø–æ–º–æ—â—å—é `golang-migrate`.
*   –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–ø—É—Å–∫–∞ –≤ Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ —Å –ø–æ–º–æ—â—å—é Docker Compose.
*   –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π —Å –ø–æ–º–æ—â—å—é MarkdownV2 –¥–ª—è –ª—É—á—à–µ–π —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏.

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

*   Go (–≤–µ—Ä—Å–∏—è 1.21 –∏–ª–∏ –≤—ã—à–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è; –≤–∞—à –ø—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç 1.24)
*   PostgreSQL (–≤–µ—Ä—Å–∏—è 13 –∏–ª–∏ –≤—ã—à–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è; –≤–∞—à –ø—Ä–æ–µ–∫—Ç —É–ø–æ–º–∏–Ω–∞–µ—Ç 17)
*   Docker –∏ Docker Compose (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è)
*   `golang-migrate` CLI (–µ—Å–ª–∏ –≤—ã –ø–ª–∞–Ω–∏—Ä—É–µ—Ç–µ —É–ø—Ä–∞–≤–ª—è—Ç—å –º–∏–≥—Ä–∞—Ü–∏—è–º–∏ –≤—Ä—É—á–Ω—É—é –≤–Ω–µ Docker)

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –ó–∞–ø—É—Å–∫

### –° –ø–æ–º–æ—â—å—é Docker Compose (–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Å–ø–æ—Å–æ–±)

–≠—Ç–æ —Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± –∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞ –≤–º–µ—Å—Ç–µ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö.

1.  **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
    ```bash
    git clone https://github.com/YourUsername/telegram-waifu-bot.git
    cd telegram-waifu-bot
    ```
    *(–ó–∞–º–µ–Ω–∏—Ç–µ `YourUsername/telegram-waifu-bot` –Ω–∞ URL –≤–∞—à–µ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è)*

2.  **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
    –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞, —Å–∫–æ–ø–∏—Ä–æ–≤–∞–≤ `.env.example` (–µ—Å–ª–∏ –æ–Ω —É –≤–∞—Å –µ—Å—Ç—å) –∏–ª–∏ —Å–æ–∑–¥–∞–≤ –Ω–æ–≤—ã–π:
    ```env
    # –¢–æ–∫–µ–Ω –≤–∞—à–µ–≥–æ Telegram –±–æ—Ç–∞
    TELEGRAM_BOT_TOKEN=–í–ê–®_–¢–ï–õ–ï–ì–†–ê–ú_–ë–û–¢_–¢–û–ö–ï–ù

    # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL –∏–∑ docker-compose
    # –≠—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å–µ—Ä–≤–∏—Å–æ–º postgres –≤ docker-compose.yml –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ë–î
    POSTGRES_USER=waifu_bot_user
    POSTGRES_PASSWORD=supersecretpassword
    POSTGRES_DB=waifu_bot_db
    # –ü–æ—Ä—Ç, –∫–æ—Ç–æ—Ä—ã–π PostgreSQL –≤–Ω—É—Ç—Ä–∏ Docker –±—É–¥–µ—Ç —Å–ª—É—à–∞—Ç—å –∏ –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–æ–±—Ä–æ—à–µ–Ω –Ω–∞ —Ö–æ—Å—Ç
    # DB_PORT_HOST=5432 # –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –µ—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø—Ä–æ–±—Ä–æ—Å–∏—Ç—å –ø–æ—Ä—Ç –Ω–∞ —Ö–æ—Å—Ç-–º–∞—à–∏–Ω—É (—Å–º. docker-compose.yml)

    # DATABASE_URL –¥–ª—è —Å–∞–º–æ–≥–æ –±–æ—Ç–∞ (–æ–Ω –±—É–¥–µ—Ç –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ –ë–î –≤–Ω—É—Ç—Ä–∏ Docker-—Å–µ—Ç–∏)
    # –ò–º—è —Ö–æ—Å—Ç–∞ 'postgres_db' —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∏–º–µ–Ω–∏ —Å–µ—Ä–≤–∏—Å–∞ –ë–î –≤ docker-compose.yml
    DATABASE_URL=postgres://waifu_bot_user:supersecretpassword@postgres_db:5432/waifu_bot_db?sslmode=disable

    # –°–ª–µ–¥—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ docker-compose.yml –¥–ª—è —Å–µ—Ä–≤–∏—Å–∞ waifu_bot,
    # —á—Ç–æ–±—ã –æ–Ω –º–æ–≥ —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å DATABASE_URL –∏–ª–∏ –¥–ª—è –¥—Ä—É–≥–∏—Ö –Ω—É–∂–¥.
    # –í —Ç–µ–∫—É—â–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ docker-compose.yml –±–æ—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é DATABASE_URL.
    # –ï—Å–ª–∏ –≤–∞—à docker-compose.yml —Å–æ–±–∏—Ä–∞–µ—Ç DATABASE_URL –∏–∑ —ç—Ç–∏—Ö —á–∞—Å—Ç–µ–π, –æ—Å—Ç–∞–≤—å—Ç–µ –∏—Ö.
    # DB_USER=${POSTGRES_USER}
    # DB_PASSWORD=${POSTGRES_PASSWORD}
    # DB_NAME=${POSTGRES_DB}
    # DB_HOST=postgres_db # –ò–º—è —Å–µ—Ä–≤–∏—Å–∞ –ë–î –≤ Docker-—Å–µ—Ç–∏
    # DB_PORT_CONTAINER=5432 # –ü–æ—Ä—Ç –ë–î –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
    ```
    **–í–∞–∂–Ω–æ:** –ó–∞–º–µ–Ω–∏—Ç–µ `–í–ê–®_–¢–ï–õ–ï–ì–†–ê–ú_–ë–û–¢_–¢–û–ö–ï–ù` –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π —Ç–æ–∫–µ–Ω –≤–∞—à–µ–≥–æ –±–æ—Ç–∞, –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –æ—Ç [@BotFather](https://t.me/BotFather). –ü–∞—Ä–æ–ª—å –∏ –¥—Ä—É–≥–∏–µ –¥–∞–Ω–Ω—ã–µ —Ç–∞–∫–∂–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Å–º–µ–Ω–∏—Ç—å –Ω–∞ –±–æ–ª–µ–µ –Ω–∞–¥–µ–∂–Ω—ã–µ. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∞—à `docker-compose.yml` –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —ç—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (–æ—Å–æ–±–µ–Ω–Ω–æ `DATABASE_URL` –¥–ª—è —Å–µ—Ä–≤–∏—Å–∞ –±–æ—Ç–∞).

3.  **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å—ã:**
    ```bash
    docker-compose up --build -d
    ```
    –û–ø—Ü–∏—è `-d` –∑–∞–ø—É—Å–∫–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ. –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –±—É–¥—É—Ç –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (—Å–æ–≥–ª–∞—Å–Ω–æ `entrypoint.sh`).

4.  **–ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ):**
    ```bash
    docker-compose logs -f waifu_bot
    docker-compose logs -f postgres_db
    ```

5.  **–û—Å—Ç–∞–Ω–æ–≤–∫–∞:**
    ```bash
    docker-compose down
    ```

### –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ (–±–µ–∑ Docker)

1.  **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:** (—Å–º. –≤—ã—à–µ)

2.  **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ PostgreSQL:**
    –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å –∑–∞–ø—É—â–µ–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω —Å–µ—Ä–≤–µ—Ä PostgreSQL. –°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –±–æ—Ç–∞.

3.  **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
    –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:
    ```env
    TELEGRAM_BOT_TOKEN=–í–ê–®_–¢–ï–õ–ï–ì–†–ê–ú_–ë–û–¢_–¢–û–ö–ï–ù
    DATABASE_URL=postgres://–í–ê–®_–ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–¨_–ë–î:–í–ê–®_–ü–ê–†–û–õ–¨_–ë–î@localhost:5432/–í–ê–®–ê_–ë–ê–ó–ê_–î–ê–ù–ù–´–•?sslmode=disable
    ```
    –ó–∞–º–µ–Ω–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è –Ω–∞ –≤–∞—à–∏.

4.  **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
    ```bash
    go mod tidy
    ```

5.  **–ü—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:**
    –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω `golang-migrate`. [–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ](https://github.com/golang-migrate/migrate/tree/master/cmd/migrate).
    ```bash
    # –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è DATABASE_URL —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –≤ –≤–∞—à–µ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏ –∏–ª–∏ –ø–µ—Ä–µ–¥–∞–π—Ç–µ –µ–µ —è–≤–Ω–æ:
    # export DATABASE_URL="postgres://–í–ê–®_–ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–¨_–ë–î:–í–ê–®_–ü–ê–†–û–õ–¨_–ë–î@localhost:5432/–í–ê–®–ê_–ë–ê–ó–ê_–î–ê–ù–ù–´–•?sslmode=disable"
    migrate -path ./migrations -database "${DATABASE_URL}" up
    ```

6.  **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:**
    ```bash
    go run cmd/bot/main.go
    ```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–ë–æ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è (–æ–±—ã—á–Ω–æ —á–µ—Ä–µ–∑ —Ñ–∞–π–ª `.env`):

*   `TELEGRAM_BOT_TOKEN`: **–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ.** –¢–æ–∫–µ–Ω –≤–∞—à–µ–≥–æ Telegram –±–æ—Ç–∞.
*   `DATABASE_URL`: **–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ.** –°—Ç—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL.
    *   –§–æ—Ä–º–∞—Ç: `postgres://[user]:[password]@[host]:[port]/[dbname]?sslmode=[disable|require|etc.]`
*   (–î–ª—è Docker Compose —Ç–∞–∫–∂–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è `POSTGRES_USER`, `POSTGRES_PASSWORD`, `POSTGRES_DB` –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–µ—Ä–≤–∏—Å–∞ –ë–î, –∫–∞–∫ —É–∫–∞–∑–∞–Ω–æ –≤ —Ä–∞–∑–¥–µ–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏).

## ü§ñ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ (–ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞)

*   `/start` - –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥.
*   `/info` - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–æ–º–∞–Ω–¥.
*   `/character <ID –∏–ª–∏ –ò–º—è>` - –ü–æ–∏—Å–∫ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ –ø–æ –µ–≥–æ ID –∏–ª–∏ –∏–º–µ–Ω–∏/–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–º—É –∏–º–µ–Ω–∏.
    *   –ü—Ä–∏–º–µ—Ä: `/character 1`
    *   –ü—Ä–∏–º–µ—Ä: `/character –§—Ä–∏—Ä–µ–Ω`
    –ü—Ä–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–∏ –∫–∞—Ä—Ç–æ—á–∫–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ –±—É–¥–µ—Ç –ø–æ–∫–∞–∑–∞–Ω –µ–≥–æ —Å—Ä–µ–¥–Ω–∏–π —Ä–µ–π—Ç–∏–Ω–≥, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥–æ–ª–æ—Å–æ–≤ –∏ –≤–∞—à–∞ –ª–∏—á–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å). –¢–∞–∫–∂–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ –∫–Ω–æ–ø–∫–∞ "–û—Ü–µ–Ω–∏—Ç—å ‚ú®".
*   `/randomcharacter` - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ª—É—á–∞–π–Ω–æ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö. –ö–∞—Ä—Ç–æ—á–∫–∞ —Ç–∞–∫–∂–µ –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ä–µ–π—Ç–∏–Ω–≥–µ –∏ –∫–Ω–æ–ø–∫—É –¥–ª—è –æ—Ü–µ–Ω–∫–∏.
*   `/rate <ID –∏–ª–∏ –ò–º—è> <–æ—Ü–µ–Ω–∫–∞>` - –ü–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ü–µ–Ω–∏—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–∂–∞. –û—Ü–µ–Ω–∫–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —á–∏—Å–ª–æ–º –æ—Ç 1 –¥–æ 10.
    *   –ü—Ä–∏–º–µ—Ä: `/rate 1 10`
    *   –ü—Ä–∏–º–µ—Ä: `/rate –§—Ä–∏—Ä–µ–Ω 10`
*   **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –æ—Ü–µ–Ω–∫–∞:**
    *   –ù–∞ –∫–∞—Ä—Ç–æ—á–∫–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **"–û—Ü–µ–Ω–∏—Ç—å ‚ú®"**.
    *   –í–∞–º –±—É–¥—É—Ç –ø—Ä–µ–¥–ª–æ–∂–µ–Ω—ã –∫–Ω–æ–ø–∫–∏ —Å –æ—Ü–µ–Ω–∫–∞–º–∏ –æ—Ç 1‚≠ê –¥–æ 10‚≠ê.
    *   –í—ã–±–µ—Ä–∏—Ç–µ –æ–¥–Ω—É –∏–∑ –Ω–∏—Ö, —á—Ç–æ–±—ã –ø–æ—Å—Ç–∞–≤–∏—Ç—å –∏–ª–∏ –æ–±–Ω–æ–≤–∏—Ç—å —Å–≤–æ—é –æ—Ü–µ–Ω–∫—É. –ö–∞—Ä—Ç–æ—á–∫–∞ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ –æ–±–Ω–æ–≤–∏—Ç—Å—è, –æ—Ç–æ–±—Ä–∞–∑–∏–≤ –∞–∫—Ç—É–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ä–µ–π—Ç–∏–Ω–≥–µ.

## üõ†Ô∏è –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–∞–∑—ã –î–∞–Ω–Ω—ã—Ö

–ú–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `/migrations` –∏ —É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —Å –ø–æ–º–æ—â—å—é `golang-migrate`. –û–Ω–∏ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç —Å—Ö–µ–º—É –≤–∞—à–µ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ –ø–æ–∑–≤–æ–ª—è—é—Ç –µ—ë –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞—Ç—å.

*   **–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏:**
    ```bash
    migrate create -ext sql -dir migrations -seq –∏–º—è_–º–∏–≥—Ä–∞—Ü–∏–∏
    ```
    –≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç –¥–≤–∞ —Ñ–∞–π–ª–∞: `..._–∏–º—è_–º–∏–≥—Ä–∞—Ü–∏–∏.up.sql` (–¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏–π "–≤–ø–µ—Ä–µ–¥") –∏ `..._–∏–º—è_–º–∏–≥—Ä–∞—Ü–∏–∏.down.sql` (–¥–ª—è –æ—Ç–∫–∞—Ç–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π).

*   **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π (–ø—Ä–∏–º–µ—Ä –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏):**
    ```bash
    migrate -path ./migrations -database "postgres://user:pass@host:port/db?sslmode=disable" up
    ```

*   **–û—Ç–∫–∞—Ç –º–∏–≥—Ä–∞—Ü–∏–π:**
    ```bash
    migrate -path ./migrations -database "postgres://user:pass@host:port/db?sslmode=disable" down 1 # –û—Ç–∫–∞—Ç–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω—é—é –ø—Ä–∏–º–µ–Ω–µ–Ω–Ω—É—é –º–∏–≥—Ä–∞—Ü–∏—é
    migrate -path ./migrations -database "postgres://user:pass@host:port/db?sslmode=disable" down # –û—Ç–∫–∞—Ç–∏—Ç—å –≤—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏
    ```

## ü§ù –í–Ω–µ—Å–µ–Ω–∏–µ –í–∫–ª–∞–¥–∞ (Contributing)

–ë—É–¥—É —Ä–∞–¥ –≤–∞—à–∏–º Pull Request'–∞–º! –ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –∏–¥–µ–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é –∏–ª–∏ –≤—ã –Ω–∞—à–ª–∏ –æ—à–∏–±–∫—É, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–æ–∑–¥–∞–π—Ç–µ Issue –∏–ª–∏ Pull Request.

1.  –°–¥–µ–ª–∞–π—Ç–µ —Ñ–æ—Ä–∫ –ø—Ä–æ–µ–∫—Ç–∞.
2.  –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é –≤–µ—Ç–∫—É (`git checkout -b feature/–Ω–æ–≤–∞—è-—Ñ–∏—á–∞`).
3.  –í–Ω–µ—Å–∏—Ç–µ —Å–≤–æ–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è.
4.  –°–¥–µ–ª–∞–π—Ç–µ –∫–æ–º–º–∏—Ç (`git commit -am '–î–æ–±–∞–≤–ª–µ–Ω–∞ –Ω–æ–≤–∞—è —Ñ–∏—á–∞'`).
5.  –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –≤–∞—à —Ñ–æ—Ä–∫ (`git push origin feature/–Ω–æ–≤–∞—è-—Ñ–∏—á–∞`).
6.  –°–æ–∑–¥–∞–π—Ç–µ Pull Request.